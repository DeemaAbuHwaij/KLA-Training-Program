@Library('polybot-shared-library') _  // Replace with your shared library name in Jenkins

pipeline {
    agent any

    parameters {
        string(name: 'SERVICE_NAME', defaultValue: 'polybot', description: 'Name of the service to deploy')
        string(name: 'IMAGE_FULL_NAME_PARAM', defaultValue: 'deemaa/polybot:latest', description: 'Docker image full name with tag')
    }

    stages {
        stage('Deploy') {
            steps {
                script {
                    // Call shared library function with two positional parameters
                    deploy(params.SERVICE_NAME, params.IMAGE_FULL_NAME_PARAM)
                }
            }
        }
    }
}
